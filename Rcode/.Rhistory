getwd()
s = read.csv('D:\Study\Jean Monnet\Data Mining\Project\Data\happiness_train_complete.csv)
dim(s)
sum(is.na(s[0]))
dim(s[0])
dim(s)[2]
count = 0
for (i in 1:dim(s)[2]){
if(sum(is.na(s[i]))>0){
count = count + 1
}
}
print(count)
s = read.csv('D:\Study\Jean Monnet\Data Mining\Project\Data\happiness_train_abbr.csv')
s = read.csv('D:/Study/Jean Monnet/Data Mining/Project/Data/happiness_train_abbr.csv')
dim(s)
sum(is.na(s[0]))
s[0]
colnames(s)
s['survey_time']
colnames(s)
s = subset(s, select = -c(id))
colnames(s)
rownames(s)
is.na(s)
sum(is.na(s[0]))
sum(is.na(s[1]))
sum(is.na(s[3]))
col_not_NA = c()
col_not_NA
col_not_NA = col_not_NA + '1'
col_not_NA.append("1")
col_not_NA = col_not_NA + b
b = 'name'
col_not_NA = col_not_NA + b
colnames(s[1])
for (i in 1:dim(s)[2]){
if(sum(is.na(s[i])) == 0){
col_not_NA = c(col_not_NA,colnames(s[i]))
}
}
col_not_NA
dim(col_not_NA)
len(col_not_NA)
size(col_not_NA)
length(col_not_NA)
new_data = s[,col_not_NA]
dim(new_data)
colnames(new_data)
new_data = subset(new_data, select = -c(survey_time))
dim(new_data)
Model_linear
Model_linear = lm(formula = happiness ~. +survey_type:inc_ability, data = new_data )
Model_linear
#读取测试数据，进行输出happiness_test_abbr
test_data = read.csv('D:/Study/Jean Monnet/Data Mining/Project/Data/happiness_test_abbr.csv')
dim(test_data)
dim(new_data)
colnames(test_data)
test_data = subset(test_data, select = -c(id))
dim(test_data)
dtest_data = subset(new_data, select = -c(survey_time))
test_data = subset(test_data, select = -c(survey_time))
test_data_not_na = test_data[,col_not_NA]
col_not_NA
col_not_NA = col_not_NA[1]
col_not_NA
#提取所有没有 NA 的列
for (i in 1:dim(s)[2]){
if(sum(is.na(s[i])) == 0){
col_not_NA = c(col_not_NA,colnames(s[i]))
}
}
col_not_NA = col_not_NA[-1]
col_not_NA
col_not_NA = col_not_NA[-1]
col_not_NA
col_not_NA = col_not_NA[-5]
col_not_NA
length(col_not_NA)
dim(new_data)
col_not_NA
happy_pre = predict(Model_linear, newdata = test_data_not_na)
test_data_not_na = test_data[,col_not_NA]
dim(test)
dim(test_data_not_na)
dim(new_data)
happy_pre = predict(Model_linear, newdata = test_data_not_na)
happy_pre
class(happy_pre)
dim(new_data)
dim(test_data_not_na)
id = seq(1:2968)
id
result = data.frame(id,happy_pre)
dim(result)
write.csv(result,save_path,row.names = FALSE)
save_path = "D:/Study/Jean Monnet/Data Mining/Project/Data/result.csv"
write.csv(result,save_path,row.names = FALSE)
